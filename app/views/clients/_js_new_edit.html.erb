<script type="text/javascript">

    //marca contato principal
    function markMainPhone() {
      $('span.main').removeClass('main').text('Telefone');

      target = $('input[type=hidden][name*=main][value=1]');
      if (target.length == 0){
        target = $('#client_contacts_attributes_0_phones_attributes_0_main');
        target.attr('value', '1');
      }

      target.prev().find('.title').addClass('main').text('Telefone (Principal)');

      //client_contacts_attributes_1_phones_attributes_0_main
      $('.main-phone').removeClass('main-phone');
      id = target.attr('id').slice(0,28);
      $('input[id^='+id+'][type!=hidden], select[id^='+id+']').each(function(){
        $(this).parent().parent().addClass('main-phone');
      });
    }

    $('.mask-phone').prev().click(function(){
      id = $(this).next().attr('id').replace('number', 'main');
      $('input[type=hidden][name*=main][value=1]').attr('value', '0');
      $('#' + id                                 ).attr('value', '1');

      markMainPhone();
    });

    //prevent phone[main] = null
    $('input[type=hidden]').each(function(){
      if ($(this).attr('value') == "") {
        $(this).attr('value', '0')
      }
    });

    markMainPhone();
</script>

<style type="text/css">
.main-phone {
  font-weight: bold;
  color: #00f;
}
</style>

